import{j as C,r as n,q as P,c as o,o as i,a as e,t as a,F as b,s as f,x as _,d as m}from"./BkTjw0lX.js";const j={class:"p-1"},z={class:"bg-white rounded-lg shadow p-6"},B={key:0,class:"flex justify-center items-center py-8"},M={key:1,class:"text-red-600 text-center py-8"},L={key:2},N={class:"overflow-x-auto"},F={class:"min-w-full divide-y divide-gray-200"},T={class:"bg-white divide-y divide-gray-200"},V={class:"px-6 py-4 whitespace-nowrap"},$={class:"text-sm text-gray-900"},q={class:"px-6 py-4 whitespace-nowrap"},A={class:"text-sm text-gray-900"},D={class:"px-6 py-4 whitespace-nowrap"},E={class:"text-sm text-gray-900"},I={class:"px-6 py-4 whitespace-nowrap"},S={class:"mt-4 flex items-center justify-between"},U={class:"flex-1 flex justify-between sm:hidden"},G=["disabled"],H=["disabled"],J={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},K={class:"text-sm text-gray-700"},O={class:"font-medium"},Q={class:"font-medium"},R={class:"font-medium"},W={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},X=["disabled"],Y=["onClick"],Z=["disabled"],le={__name:"list",setup(ee){const{$api:w}=C(),g=n([]),v=n(!0),u=n(null),s=n(1),c=n(10),p=n(0),d=n(0),x=async()=>{try{v.value=!0,u.value=null;const r=await w.get("/api/v1/admin/users",{page:s.value,limit:c.value});g.value=r.data.users,p.value=r.data.total,d.value=Math.ceil(p.value/c.value)}catch(r){u.value=r.message}finally{v.value=!1}},y=()=>{s.value<d.value&&(s.value++,x())},h=()=>{s.value>1&&(s.value--,x())},k=r=>{s.value=r,x()};return P(()=>{x()}),(r,t)=>(i(),o("div",j,[t[9]||(t[9]=e("h1",{class:"text-2xl font-regular mb-6"},"مدیریت کاربران",-1)),e("div",z,[v.value?(i(),o("div",B,t[0]||(t[0]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"},null,-1)]))):u.value?(i(),o("div",M,a(u.value),1)):(i(),o("div",L,[e("div",N,[e("table",F,[t[2]||(t[2]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," نام و نام خانوادگی "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," ایمیل "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," شماره موبایل "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," نقش "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," عملیات ")])],-1)),e("tbody",T,[(i(!0),o(b,null,f(g.value,l=>(i(),o("tr",{key:l.id},[e("td",V,[e("div",$,a(l.first_name)+" "+a(l.last_name),1)]),e("td",q,[e("div",A,a(l.email),1)]),e("td",D,[e("div",E,a(l.phone),1)]),e("td",I,[e("span",{class:_(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",l.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"])},a(l.role==="admin"?"مدیر":"کارمند"),3)]),t[1]||(t[1]=e("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},[e("button",{class:"text-purple-600 hover:text-purple-900"},"ویرایش")],-1))]))),128))])])])]))]),e("div",S,[e("div",U,[e("button",{disabled:s.value===1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:h}," قبلی ",8,G),e("button",{disabled:s.value===d.value,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:y}," بعدی ",8,H)]),e("div",J,[e("div",null,[e("p",K,[t[3]||(t[3]=m(" نمایش ")),e("span",O,a((s.value-1)*c.value+1),1),t[4]||(t[4]=m(" تا ")),e("span",Q,a(Math.min(s.value*c.value,p.value)),1),t[5]||(t[5]=m(" از ")),e("span",R,a(p.value),1),t[6]||(t[6]=m(" نتیجه "))])]),e("div",null,[e("nav",W,[e("button",{disabled:s.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",onClick:h},t[7]||(t[7]=[e("span",{class:"sr-only"},"قبلی",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]),8,X),(i(!0),o(b,null,f(d.value,l=>(i(),o("button",{key:l,class:_(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",l===s.value?"z-10 bg-purple-50 border-purple-500 text-purple-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"]),onClick:te=>k(l)},a(l),11,Y))),128)),e("button",{disabled:s.value===d.value,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",onClick:y},t[8]||(t[8]=[e("span",{class:"sr-only"},"بعدی",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,Z)])])])])]))}};export{le as default};
