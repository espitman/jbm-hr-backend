import{_ as v}from"./D01jHPX4.js";import{g as x,q as b,s as y,r as p,c as o,o as r,a as s,v as h,x as c,y as L,z as k,F as g,b as _,w as M,d as z}from"./CSPX8tqz.js";const B="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20version='1.1'%20viewBox='71%200.5%2032.51%2026'%3e%3ctitle%3eGroup%202%3c/title%3e%3cdefs%3e%3cpath%20id='path-1'%20points='0%200%2032.5079365%200%2032.5079365%2010%200%2010'%20d='M0%200L32.508%200L32.508%2010L0%2010Z'/%3e%3c/defs%3e%3cg%20id='New-HomePage'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20id='Artboard'%20transform='translate(-73%20-57)'%3e%3cg%20id='Group-2'%20transform='translate(74%2057.5)'%3e%3cg%20id='Group-4'%20transform='translate(70)'%3e%3cpath%20id='Fill-1'%20fill='%23131B1F'%20points='12.6607625%2010%208.12698413%205.49901363%203.59320577%2010%202.03174603%208.05123259%208.12698413%202%2014.2222222%208.05123259'%20d='M12.661%2010L8.127%205.499L3.593%2010L2.032%208.051L8.127%202L14.222%208.051Z'/%3e%3cpath%20id='Fill-2'%20fill='%23131B1F'%20points='25.1588953%200%2025.1588953%204.76990323%2020.3174603%204.76990323%2020.3174603%207.23009677%2025.1588953%207.23009677%2025.1588953%2012%2027.6665015%2012%2027.6665015%207.23009677%2032.5079365%207.23009677%2032.5079365%204.76990323%2027.6665015%204.76990323%2027.6665015%200'%20d='M25.159%200L25.159%204.77L20.317%204.77L20.317%207.23L25.159%207.23L25.159%2012L27.667%2012L27.667%207.23L32.508%207.23L32.508%204.77L27.667%204.77L27.667%200Z'/%3e%3cg%20id='Group'%20transform='translate(0%2016)'%3e%3cmask%20id='mask-2'%20fill='white'%3e%3cuse%20href='%23path-1'/%3e%3c/mask%3e%3cg%20id='Clip-4'/%3e%3cpath%20d='M16.67%2010c-1.91%200%20-3.85%20-0.277%20-5.769%20-0.824%20-4.942%20-1.41%20-8.26%20-4.162%20-8.621%20-4.471L0%202.754%202.1%200l2.278%201.95c0.12%200.103%203.037%202.565%207.392%203.808%201.635%200.466%203.283%200.702%204.9%200.702%204.107%200%207.963%20-1.517%2011.46%20-4.51L30.409%200l2.099%202.754%20-2.279%201.95C26.122%208.218%2021.56%2010%2016.67%2010'%20id='Fill-3'%20fill='%23FFA41B'%20mask='url(%23mask-2)'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",F={class:"min-h-screen flex items-center justify-center bg-gray-50"},C={class:"grid grid-cols-1 md:grid-cols-2 gap-0 w-full max-w-5xl bg-white rounded-2xl shadow-lg overflow-hidden"},A={class:"p-12 order-1 md:order-2"},V={class:"max-w-md mx-auto"},N={class:"relative"},j={class:"relative"},G=["type"],q={class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},E={class:"flex items-center justify-end"},S=["disabled"],T={key:0,class:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"},Z={key:1},U={__name:"login",setup(D){const{$api:f}=x(),n=b(),{login:m}=y(),l=p({email:"",password:""}),i=p(!1),d=p(!1),w=async()=>{var u,e;try{i.value=!0;const t=await f.post("/api/v1/admin/login",{email:l.value.email,password:l.value.password});console.log(t),(u=t.data)!=null&&u.token&&((e=t.data)!=null&&e.user)&&await m(t.data.token,t.data.user)?(n.success("ورود موفقیت‌آمیز"),window.location.href="/admin/"):n.error("خطا در ورود به سیستم")}catch(t){n.error(t.message||"خطا در ورود به سیستم")}finally{i.value=!1}};return(u,e)=>{const t=v;return r(),o("div",F,[s("div",C,[e[12]||(e[12]=s("div",{class:"bg-purple-600 p-12 text-white flex flex-col justify-between order-2 md:order-1"},[s("div",null,[s("img",{src:B,alt:"Logo",class:"h-8 mb-8"}),s("h2",{class:"text-2xl font-bold mb-4"},"خوش آمدید!"),s("p",{class:"text-purple-100"}," به سامانه مدیریت منابع انسانی جاباما خوش آمدید. لطفا وارد حساب کاربری خود شوید. ")])],-1)),s("div",A,[s("div",V,[e[11]||(e[11]=s("h1",{class:"text-2xl font-bold text-gray-900 mb-8"},"ورود به سیستم",-1)),s("form",{onSubmit:h(w,["prevent"]),class:"space-y-6"},[s("div",null,[e[4]||(e[4]=s("label",{for:"email",class:"block text-sm font-regular text-gray-700 mb-1"}," ایمیل ",-1)),s("div",N,[e[3]||(e[3]=s("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[s("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),s("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})])],-1)),c(s("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=a=>l.value.email=a),type:"email",required:"",dir:"ltr",class:"block w-full pr-10 pl-3 py-2.5 text-gray-900 placeholder-gray-500 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email"},null,512),[[L,l.value.email]])])]),s("div",null,[e[9]||(e[9]=s("label",{for:"password",class:"block text-sm font-regular text-gray-700 mb-1"}," رمز عبور ",-1)),s("div",j,[c(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=a=>l.value.password=a),type:d.value?"text":"password",required:"",dir:"ltr",class:"block w-full pr-10 pl-3 py-2.5 text-gray-900 placeholder-gray-500 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your password"},null,8,G),[[k,l.value.password]]),s("button",{type:"button",onClick:e[2]||(e[2]=a=>d.value=!d.value),class:"absolute inset-y-0 right-0 flex items-center pr-3"},[(r(),o("svg",q,[d.value?(r(),o(g,{key:0},[e[5]||(e[5]=s("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"},null,-1)),e[6]||(e[6]=s("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"},null,-1))],64)):(r(),o(g,{key:1},[e[7]||(e[7]=s("path",{"fill-rule":"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z","clip-rule":"evenodd"},null,-1)),e[8]||(e[8]=s("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"},null,-1))],64))]))])])]),s("div",E,[_(t,{to:"/forgot-password",class:"text-sm font-regular text-purple-600 hover:text-purple-500"},{default:M(()=>e[10]||(e[10]=[z(" فراموشی رمز عبور؟ ")])),_:1})]),s("button",{type:"submit",disabled:i.value,class:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-regular text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500"},[i.value?(r(),o("span",T)):(r(),o("span",Z,"ورود به سیستم"))],8,S)],32)])])])])}}};export{U as default};
