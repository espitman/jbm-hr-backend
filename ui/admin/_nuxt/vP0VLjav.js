import{j as b,k as c,r as d,c as a,o as i,a as o,m as v,y,n as s,v as u,z as x,t as w}from"./BkTjw0lX.js";const k={class:"p-1"},_={class:"bg-white rounded-lg shadow p-6"},h={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},V={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},q={class:"pt-2"},U=["disabled"],S={key:0,class:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"},B={key:1},M={key:0,class:"text-red-600 text-sm text-center bg-red-50 py-2 px-4 rounded-lg"},D={__name:"register",setup(N){const{$api:f}=b(),p=c(),t=d({email:"",phone:"",role:"employee",first_name:"",last_name:""}),n=d(!1),r=d(null),g=async()=>{try{n.value=!0,r.value=null,await f.post("/api/v1/admin/users/register",t.value),t.value={email:"",phone:"",role:"employee",first_name:"",last_name:""},p.success("کاربر با موفقیت ثبت شد")}catch(m){r.value=m.message||"خطا در ثبت کاربر",p.error(r.value)}finally{n.value=!1}};return(m,e)=>(i(),a("div",k,[e[11]||(e[11]=o("h1",{class:"text-2xl font-regular mb-6"},"ثبت کاربر جدید",-1)),o("div",_,[o("form",{class:"space-y-6",onSubmit:v(g,["prevent"])},[o("div",h,[o("div",null,[e[5]||(e[5]=o("label",{for:"first_name",class:"block text-sm font-medium text-gray-700 mb-1"},"نام",-1)),s(o("input",{id:"first_name","onUpdate:modelValue":e[0]||(e[0]=l=>t.value.first_name=l),type:"text",class:"block w-full px-4 py-2.5 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",required:""},null,512),[[u,t.value.first_name]])]),o("div",null,[e[6]||(e[6]=o("label",{for:"last_name",class:"block text-sm font-medium text-gray-700 mb-1"},"نام خانوادگی",-1)),s(o("input",{id:"last_name","onUpdate:modelValue":e[1]||(e[1]=l=>t.value.last_name=l),type:"text",class:"block w-full px-4 py-2.5 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",required:""},null,512),[[u,t.value.last_name]])])]),o("div",V,[o("div",null,[e[7]||(e[7]=o("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"},"ایمیل",-1)),s(o("input",{id:"email","onUpdate:modelValue":e[2]||(e[2]=l=>t.value.email=l),type:"email",dir:"ltr",class:"block w-full px-4 py-2.5 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",required:""},null,512),[[u,t.value.email]])]),o("div",null,[e[8]||(e[8]=o("label",{for:"phone",class:"block text-sm font-medium text-gray-700 mb-1"},"شماره موبایل",-1)),s(o("input",{id:"phone","onUpdate:modelValue":e[3]||(e[3]=l=>t.value.phone=l),type:"tel",class:"block w-full px-4 py-2.5 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",required:""},null,512),[[u,t.value.phone]])])]),o("div",null,[e[10]||(e[10]=o("label",{for:"role",class:"block text-sm font-medium text-gray-700 mb-1"},"نقش",-1)),s(o("select",{id:"role","onUpdate:modelValue":e[4]||(e[4]=l=>t.value.role=l),class:"block w-full px-4 py-2.5 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",required:""},e[9]||(e[9]=[o("option",{value:"admin"},"مدیر",-1),o("option",{value:"employee"},"کارمند",-1)]),512),[[x,t.value.role]])]),o("div",q,[o("button",{type:"submit",class:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors",disabled:n.value},[n.value?(i(),a("span",S)):(i(),a("span",B,"ثبت کاربر"))],8,U)]),r.value?(i(),a("div",M,w(r.value),1)):y("",!0)],32)])]))}};export{D as default};
