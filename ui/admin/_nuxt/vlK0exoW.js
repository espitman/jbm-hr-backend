import{_ as w}from"./Bx9JAQi0.js";import{r as d,j as _,q as f,c as r,o,a as e,t as a,F as v,C as k,z as b,b as C,w as j}from"./Bi9Xi-du.js";const B={class:"container mx-auto p-1"},z={key:0,class:"flex justify-center items-center py-8"},D={key:1,class:"text-center text-red-500"},M={key:2},N={class:"bg-white shadow-md rounded-lg overflow-hidden"},$={class:"min-w-full divide-y divide-gray-200"},F={class:"bg-white divide-y divide-gray-200"},R={class:"px-6 py-4 whitespace-nowrap"},S={class:"text-sm text-gray-900"},V={class:"px-6 py-4 whitespace-nowrap"},E={class:"text-sm text-gray-900"},I={class:"px-6 py-4 whitespace-nowrap"},L={class:"text-sm text-gray-900"},T={class:"px-6 py-4 whitespace-nowrap"},q={class:"px-6 py-4 whitespace-nowrap"},A={class:"text-sm text-gray-900"},G={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},H=["onClick"],Q={__name:"list",setup(J){const l=d([]),c=d(!0),i=d(null),{$api:p}=_(),u=async()=>{try{c.value=!0,i.value=null;const s=await p.get("/api/v1/admin/resumes");l.value=s.data.items}catch(s){i.value=s.message||"خطا در دریافت اطلاعات رزومه‌ها"}finally{c.value=!1}},x=s=>{switch(s){case"pending":return"bg-yellow-100 text-yellow-800";case"reviewed":return"bg-blue-100 text-blue-800";case"accepted":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=s=>{switch(s){case"pending":return"در انتظار بررسی";case"reviewed":return"بررسی شده";case"accepted":return"تایید شده";case"rejected":return"رد شده";default:return s}},h=s=>{const t=new Date(s);return new Intl.DateTimeFormat("fa-IR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)},m=s=>{const t=document.createElement("a");t.href=s.file,t.download=`resume-${s.introduced_name}.pdf`,document.body.appendChild(t),t.click(),document.body.removeChild(t)};return f(()=>{u()}),(s,t)=>{const y=w;return o(),r("div",B,[t[4]||(t[4]=e("div",{class:"flex items-center justify-between mb-6"},[e("h1",{class:"text-xl font-bold text-purple-700"},"رزومه‌ها")],-1)),c.value?(o(),r("div",z,t[0]||(t[0]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"},null,-1)]))):i.value?(o(),r("div",D,a(i.value),1)):(o(),r("div",M,[e("div",N,[e("table",$,[t[3]||(t[3]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," معرفی شده "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," شماره تماس معرفی شده "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," موقعیت شغلی "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," وضعیت "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," تاریخ ثبت "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," عملیات ")])],-1)),e("tbody",F,[(o(!0),r(v,null,k(l.value,n=>(o(),r("tr",{key:n.id},[e("td",R,[e("div",S,a(n.introduced_name),1)]),e("td",V,[e("div",E,a(n.introduced_phone),1)]),e("td",I,[e("div",L,a(n.position),1)]),e("td",T,[e("span",{class:b([x(n.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},a(g(n.status)),3)]),e("td",q,[e("div",A,a(h(n.created_at)),1)]),e("td",G,[C(y,{to:`/resumes/${n.id}`,class:"text-purple-600 hover:text-purple-900 ml-4 cursor-pointer"},{default:j(()=>t[1]||(t[1]=[e("div",{class:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-gray-100"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})])],-1)])),_:2},1032,["to"]),e("button",{onClick:K=>m(n),class:"text-green-600 hover:text-green-900 cursor-pointer"},t[2]||(t[2]=[e("div",{class:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-gray-100"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})])],-1)]),8,H)])]))),128))])])])]))])}}};export{Q as default};
