import{_ as z}from"./Bx9JAQi0.js";import{j as M,r,q as B,c as o,o as i,a as e,t as l,F as f,C as b,z as w,b as L,w as P,d as m}from"./Bi9Xi-du.js";const N={class:"p-1"},$={class:"bg-white rounded-lg shadow p-6"},V={key:0,class:"flex justify-center items-center py-8"},F={key:1,class:"text-red-600 text-center py-8"},T={key:2},q={class:"overflow-x-auto"},A={class:"min-w-full divide-y divide-gray-200"},D={class:"bg-white divide-y divide-gray-200"},E={class:"px-6 py-4 whitespace-nowrap"},I={class:"flex items-center"},S={class:"h-10 w-10 rounded-full overflow-hidden bg-gray-100"},U=["src","alt"],G={key:1,class:"h-full w-full flex items-center justify-center bg-gray-200"},H={class:"text-gray-500 text-lg"},J={class:"px-6 py-4 whitespace-nowrap"},K={class:"text-sm text-gray-900"},O={class:"px-6 py-4 whitespace-nowrap"},Q={class:"text-sm text-gray-900"},R={class:"px-6 py-4 whitespace-nowrap"},W={class:"text-sm text-gray-900"},X={class:"px-6 py-4 whitespace-nowrap"},Y={class:"px-6 py-4 whitespace-nowrap"},Z={class:"text-sm text-gray-900"},ee={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},te={class:"mt-4 flex items-center justify-between"},se={class:"flex-1 flex justify-between sm:hidden"},ae=["disabled"],le=["disabled"],oe={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},ie={class:"text-sm text-gray-700"},ne={class:"font-medium"},re={class:"font-medium"},de={class:"font-medium"},ce={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},pe=["disabled"],ue=["onClick"],xe=["disabled"],he={__name:"list",setup(me){const{$api:k}=M(),h=r([]),v=r(!0),c=r(null),a=r(1),p=r(10),u=r(0),d=r(0),x=async()=>{try{v.value=!0,c.value=null;const n=await k.get("/api/v1/admin/users",{page:a.value,limit:p.value});h.value=n.data.users,u.value=n.data.total,d.value=Math.ceil(u.value/p.value)}catch(n){c.value=n.message}finally{v.value=!1}},y=()=>{a.value<d.value&&(a.value++,x())},_=()=>{a.value>1&&(a.value--,x())},C=n=>{a.value=n,x()};return B(()=>{x()}),(n,t)=>{const j=z;return i(),o("div",N,[t[9]||(t[9]=e("h1",{class:"text-xl font-bold text-purple-700 mb-6"},"مدیریت کاربران",-1)),e("div",$,[v.value?(i(),o("div",V,t[0]||(t[0]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"},null,-1)]))):c.value?(i(),o("div",F,l(c.value),1)):(i(),o("div",T,[e("div",q,[e("table",A,[t[2]||(t[2]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," آواتار "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," نام و نام خانوادگی "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," ایمیل "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," شماره موبایل "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," نقش "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," دپارتمان "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," عملیات ")])],-1)),e("tbody",D,[(i(!0),o(f,null,b(h.value,s=>{var g;return i(),o("tr",{key:s.id},[e("td",E,[e("div",I,[e("div",S,[s.avatar?(i(),o("img",{key:0,src:s.avatar,alt:`${s.first_name} ${s.last_name}`,class:"h-full w-full object-cover"},null,8,U)):(i(),o("div",G,[e("span",H,l(s.first_name[0])+l(s.last_name[0]),1)]))])])]),e("td",J,[e("div",K,l(s.first_name)+" "+l(s.last_name),1)]),e("td",O,[e("div",Q,l(s.email),1)]),e("td",R,[e("div",W,l(s.phone),1)]),e("td",X,[e("span",{class:w(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",s.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"])},l(s.role==="admin"?"مدیر":"کارمند"),3)]),e("td",Y,[e("div",Z,l(((g=s.department)==null?void 0:g.title)||"-"),1)]),e("td",ee,[L(j,{to:`/users/${s.id}`},{default:P(()=>t[1]||(t[1]=[e("button",{class:"text-purple-600 hover:text-purple-900"},[e("div",{class:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-gray-100"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.232 5.232l3.536 3.536M9 13l6.586-6.586a2 2 0 112.828 2.828L11.828 15.828a2 2 0 01-2.828 0L9 13zm-6 6h12"})])])],-1)])),_:2},1032,["to"])])])}),128))])])])]))]),e("div",te,[e("div",se,[e("button",{disabled:a.value===1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:_}," قبلی ",8,ae),e("button",{disabled:a.value===d.value,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:y}," بعدی ",8,le)]),e("div",oe,[e("div",null,[e("p",ie,[t[3]||(t[3]=m(" نمایش ")),e("span",ne,l((a.value-1)*p.value+1),1),t[4]||(t[4]=m(" تا ")),e("span",re,l(Math.min(a.value*p.value,u.value)),1),t[5]||(t[5]=m(" از ")),e("span",de,l(u.value),1),t[6]||(t[6]=m(" نتیجه "))])]),e("div",null,[e("nav",ce,[e("button",{disabled:a.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",onClick:_},t[7]||(t[7]=[e("span",{class:"sr-only"},"قبلی",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]),8,pe),(i(!0),o(f,null,b(d.value,s=>(i(),o("button",{key:s,class:w(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",s===a.value?"z-10 bg-purple-50 border-purple-500 text-purple-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"]),onClick:g=>C(s)},l(s),11,ue))),128)),e("button",{disabled:a.value===d.value,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",onClick:y},t[8]||(t[8]=[e("span",{class:"sr-only"},"بعدی",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,xe)])])])])])}}};export{he as default};
