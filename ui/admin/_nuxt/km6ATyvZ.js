import{_ as j}from"./BAv98Wp_.js";import{j as B,r,q as M,c as o,o as i,a as e,t as a,F as b,B as f,x as _,b as z,w as L,d as m}from"./DUgZ_HYD.js";const P={class:"p-1"},N={class:"bg-white rounded-lg shadow p-6"},V={key:0,class:"flex justify-center items-center py-8"},$={key:1,class:"text-red-600 text-center py-8"},F={key:2},T={class:"overflow-x-auto"},q={class:"min-w-full divide-y divide-gray-200"},A={class:"bg-white divide-y divide-gray-200"},D={class:"px-6 py-4 whitespace-nowrap"},E={class:"text-sm text-gray-900"},I={class:"px-6 py-4 whitespace-nowrap"},S={class:"text-sm text-gray-900"},U={class:"px-6 py-4 whitespace-nowrap"},G={class:"text-sm text-gray-900"},H={class:"px-6 py-4 whitespace-nowrap"},J={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},K={class:"mt-4 flex items-center justify-between"},O={class:"flex-1 flex justify-between sm:hidden"},Q=["disabled"],R=["disabled"],W={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},X={class:"text-sm text-gray-700"},Y={class:"font-medium"},Z={class:"font-medium"},ee={class:"font-medium"},te={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},se=["disabled"],le=["onClick"],ae=["disabled"],de={__name:"list",setup(oe){const{$api:w}=B(),g=r([]),v=r(!0),u=r(null),s=r(1),c=r(10),p=r(0),d=r(0),x=async()=>{try{v.value=!0,u.value=null;const n=await w.get("/api/v1/admin/users",{page:s.value,limit:c.value});g.value=n.data.users,p.value=n.data.total,d.value=Math.ceil(p.value/c.value)}catch(n){u.value=n.message}finally{v.value=!1}},y=()=>{s.value<d.value&&(s.value++,x())},h=()=>{s.value>1&&(s.value--,x())},k=n=>{s.value=n,x()};return M(()=>{x()}),(n,t)=>{const C=j;return i(),o("div",P,[t[9]||(t[9]=e("h1",{class:"text-xl font-bold text-purple-700 mb-6"},"مدیریت کاربران",-1)),e("div",N,[v.value?(i(),o("div",V,t[0]||(t[0]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"},null,-1)]))):u.value?(i(),o("div",$,a(u.value),1)):(i(),o("div",F,[e("div",T,[e("table",q,[t[2]||(t[2]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," نام و نام خانوادگی "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," ایمیل "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," شماره موبایل "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," نقش "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," عملیات ")])],-1)),e("tbody",A,[(i(!0),o(b,null,f(g.value,l=>(i(),o("tr",{key:l.id},[e("td",D,[e("div",E,a(l.first_name)+" "+a(l.last_name),1)]),e("td",I,[e("div",S,a(l.email),1)]),e("td",U,[e("div",G,a(l.phone),1)]),e("td",H,[e("span",{class:_(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",l.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"])},a(l.role==="admin"?"مدیر":"کارمند"),3)]),e("td",J,[z(C,{to:`/users/${l.id}`},{default:L(()=>t[1]||(t[1]=[e("button",{class:"text-purple-600 hover:text-purple-900"},[e("div",{class:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-gray-100"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.232 5.232l3.536 3.536M9 13l6.586-6.586a2 2 0 112.828 2.828L11.828 15.828a2 2 0 01-2.828 0L9 13zm-6 6h12"})])])],-1)])),_:2},1032,["to"])])]))),128))])])])]))]),e("div",K,[e("div",O,[e("button",{disabled:s.value===1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:h}," قبلی ",8,Q),e("button",{disabled:s.value===d.value,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:y}," بعدی ",8,R)]),e("div",W,[e("div",null,[e("p",X,[t[3]||(t[3]=m(" نمایش ")),e("span",Y,a((s.value-1)*c.value+1),1),t[4]||(t[4]=m(" تا ")),e("span",Z,a(Math.min(s.value*c.value,p.value)),1),t[5]||(t[5]=m(" از ")),e("span",ee,a(p.value),1),t[6]||(t[6]=m(" نتیجه "))])]),e("div",null,[e("nav",te,[e("button",{disabled:s.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",onClick:h},t[7]||(t[7]=[e("span",{class:"sr-only"},"قبلی",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]),8,se),(i(!0),o(b,null,f(d.value,l=>(i(),o("button",{key:l,class:_(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",l===s.value?"z-10 bg-purple-50 border-purple-500 text-purple-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"]),onClick:ie=>k(l)},a(l),11,le))),128)),e("button",{disabled:s.value===d.value,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",onClick:y},t[8]||(t[8]=[e("span",{class:"sr-only"},"بعدی",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,ae)])])])])])}}};export{de as default};
